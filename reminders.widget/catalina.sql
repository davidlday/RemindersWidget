-- Get the Z_ENT for Lists
SELECT Z_ENT
FROM Z_PRIMARYKEY
WHERE Z_NAME = 'REMCDList';
-- Returns 21 on my machine

-- Get a list of Lists
SELECT Z_PK, ZNAME1
FROM ZREMCDOBJECT
WHERE Z_ENT = '21';
-- My 'Personal' list is 1382

-- Get all incompleted items for a list
SELECT Z_PK, Z_ENT, ZTITLE1, ZCOMPLETED, ZDUEDATE
FROM ZREMCDOBJECT
WHERE ZLIST = 1382
AND ZCOMPLETED = 0;

SELECT strftime('%Y-%m-%dT%H:%M:%S',978307200 + TASK.ZDUEDATE,'unixepoch') as dueDate,
        TASK.ZPRIORITY AS priority,
        TASK.ZTITLE1 AS title,
        LIST.ZNAME1 AS list,
        TASK.ZNOTES AS notes,
        978307200 + TASK.ZDUEDATE - 1571187829 AS secondsLeft
    FROM ZREMCDOBJECT TASK LEFT JOIN ZREMCDOBJECT LIST on TASK.ZLIST = LIST.Z_PK
    WHERE LIST.Z_ENT=21
        AND TASK.ZCOMPLETIONDATE IS NULL
    ORDER BY CASE WHEN TASK.ZDUEDATE IS NULL THEN 1 ELSE 0 END, TASK.ZDUEDATE, TASK.ZPRIORITY;
